#!/usr/bin/env bash
set -euo pipefail

# Ensure formatting stays consistent before committing.
# Run the formatter in check mode so commits only proceed when clean.
if [[ ! -x "./format.sh" ]]; then
  echo "pre-commit: missing ./format.sh; cannot enforce formatting." >&2
  exit 1
fi

echo "pre-commit: running ./format.sh --check"
./format.sh --check
