#!/usr/bin/env bash
set -euo pipefail

# Ensure formatting stays consistent before committing.
# Run the formatter in check mode so commits only proceed when clean.
if [[ ! -x "./scripts/format.sh" ]]; then
  echo "pre-commit: missing ./scripts/format.sh; cannot enforce formatting." >&2
  exit 1
fi

echo "pre-commit: running ./scripts/format.sh --check"
./scripts/format.sh --check
